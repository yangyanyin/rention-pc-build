{"version":3,"sources":["webpack:///./src/views/category/Search.vue?89b4","webpack:///src/views/category/Search.vue","webpack:///./src/views/category/Search.vue?3fa0","webpack:///./src/views/category/Search.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","breadcrumb","total","pageLoading","productData","url","on","clickPage","_e","staticRenderFns","name","components","BreadcrumbList","SearchBox","ProductList","Pagination","Loading","data","page","computed","$route","fullPath","type","methods","$router","push","path","query","getSearchList","size","keyword","$httpApi","search","params","then","mounted","p","component"],"mappings":"iHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,iBAAiB,CAACG,MAAM,CAAC,WAAaP,EAAIQ,cAAcJ,EAAG,aAAcJ,EAAIS,MAAQ,GAAKT,EAAIU,YAAaN,EAAG,WAAWA,EAAG,cAAc,CAACG,MAAM,CAAC,YAAcP,EAAIW,YAAY,MAAQX,EAAIS,MAAM,aAAeT,EAAIQ,WAAW,GAAKR,EAAIQ,WAAW,GAAGI,IAAM,MAAOZ,EAAIS,MAAQ,GAAIL,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQP,EAAIS,OAAOI,GAAG,CAAC,UAAYb,EAAIc,aAAad,EAAIe,MAAM,IAC1eC,EAAkB,G,kFCetB,GACEC,KAAM,SACNC,WAAY,CACVC,eAAJ,OACIC,UAAJ,OACIC,YAAJ,OACIC,WAAJ,OACIC,QAAJ,QAEEC,KATF,WAUI,MAAO,CACLb,YAAa,GACbF,OAAQ,EACRgB,KAAM,EACNf,aAAa,IAGjBgB,SAAU,CACRlB,WADJ,WAEM,IAAN,GACQ,YAAa,CACXI,IAAKX,KAAK0B,OAAOC,SACjBX,KAAM,MACNY,KAAM,aAER,QAAW,CACTjB,IAAKX,KAAK0B,OAAOC,SACjBX,KAAM,OACNY,KAAM,gBAER,cAAe,CACbjB,IAAKX,KAAK0B,OAAOC,SACjBX,KAAM,OACNY,KAAM,sBAGV,MAAO,CACb,CACQ,KAAR,KACQ,IAAR,sBAEA,gCAIEC,QAAS,CACPhB,UADJ,SACA,GACMW,GAAc,EACd,IAAN,mBACMxB,KAAK8B,QAAQC,KAAK,CAChBC,KAAMA,EACNC,MAAO,CACLT,KAAMA,KAGVxB,KAAKkC,cAAcV,IAErBU,cAZJ,SAYA,cACMlC,KAAKwB,KAAOA,EACZ,IAAN,4BACA,GACQA,KAAMxB,KAAKwB,KACXW,KAAM,GACNP,KAAM5B,KAAKO,WAAW,GAAGqB,KACzBQ,QAASA,GAEXpC,KAAKS,aAAc,EACnBT,KAAKqC,SAASC,OAAOC,GAAQC,MAAK,SAAxC,GACQ,EAAR,0BACQ,EAAR,yCACQ,EAAR,oBAIEC,QA1EF,WA2EI,IAAJ,4BACIzC,KAAKkC,cAAcQ,KC5FwU,I,YCO3VC,EAAY,eACd,EACA7C,EACAiB,GACA,EACA,KACA,KACA,MAIa,aAAA4B,E","file":"js/search.6cc29e9c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('BreadcrumbList',{attrs:{\"breadcrumb\":_vm.breadcrumb}}),_c('SearchBox'),(_vm.total < 0 || _vm.pageLoading)?_c('Loading'):_c('ProductList',{attrs:{\"productData\":_vm.productData,\"total\":_vm.total,\"categoryLink\":_vm.breadcrumb[0] ? _vm.breadcrumb[1].url : ''}}),(_vm.total > 10)?_c('Pagination',{attrs:{\"total\":_vm.total},on:{\"clickPage\":_vm.clickPage}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- 新楼盘 -->\n<template>\n  <div class=\"search\">\n    <BreadcrumbList :breadcrumb=\"breadcrumb\" />\n    <SearchBox />\n    <Loading v-if=\"total < 0 || pageLoading\"/>\n    <ProductList v-else :productData=\"productData\" :total=\"total\" :categoryLink=\"breadcrumb[0] ? breadcrumb[1].url : ''\" />\n    <Pagination v-if=\"total > 10\" :total=\"total\" @clickPage=\"clickPage\" />\n  </div>\n</template>\n<script>\nimport BreadcrumbList from '../../components/base/BreadcrumbList'\nimport SearchBox from './base/SearchBox'\nimport ProductList from './base/ProductList'\nimport Pagination from '../../components/base/Pagination'\nimport Loading from '../../components/base/Loading'\nexport default {\n  name: 'search',\n  components: {\n    BreadcrumbList,\n    SearchBox,\n    ProductList,\n    Pagination,\n    Loading,\n  },\n  data () {\n    return {\n      productData: [],\n      total: -1,\n      page: 1,\n      pageLoading: false\n    }\n  },\n  computed: {\n    breadcrumb () {\n      const routes = {\n        'new-house': {\n          url: this.$route.fullPath,\n          name: '新楼盘',\n          type: 'new_house'\n        },\n        'renting': {\n          url: this.$route.fullPath,\n          name: '狮城租房',\n          type: 'rented_house'\n        },\n        'second-hand': {\n          url: this.$route.fullPath,\n          name: '二手公寓',\n          type: 'second_hand_house'\n        }\n      }\n      return [\n        {\n          name: '搜索',\n          url: this.$route.fullPath\n        }, \n        routes[this.$route.params.search]\n      ]\n    }\n  },\n  methods: {\n    clickPage (page) {\n      page = page + 1\n      const path = this.$route.path\n      this.$router.push({\n        path: path,\n        query: {\n          page: page\n        }\n      })\n      this.getSearchList(page)\n    },\n    getSearchList (page) {\n      this.page = page\n      const keyword = this.$route.query.keyword\n      const params = {\n        page: this.page,\n        size: 10,\n        type: this.breadcrumb[1].type,\n        keyword: keyword\n      }\n      this.pageLoading = true\n      this.$httpApi.search(params).then(res => {\n        this.productData = res.data.houses\n        this.total = res.data.total || res.data.houses.length\n        this.pageLoading = false\n      })\n    }\n  },\n  mounted () {\n    const p = this.$route.query.page || 1\n    this.getSearchList(p)\n  }\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=8508e88e&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}