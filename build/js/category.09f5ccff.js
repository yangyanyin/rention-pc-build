(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["category"],{1276:function(t,e,i){"use strict";var r=i("d784"),n=i("44e7"),a=i("825a"),s=i("1d80"),u=i("4840"),o=i("8aa5"),c=i("50c4"),l=i("14c3"),d=i("9263"),h=i("d039"),f=[].push,p=Math.min,g=4294967295,x=!h((function(){return!RegExp(g,"y")}));r("split",2,(function(t,e,i){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var r=String(s(this)),a=void 0===i?g:i>>>0;if(0===a)return[];if(void 0===t)return[r];if(!n(t))return e.call(r,t,a);var u,o,c,l=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,x=new RegExp(t.source,h+"g");while(u=d.call(x,r)){if(o=x.lastIndex,o>p&&(l.push(r.slice(p,u.index)),u.length>1&&u.index<r.length&&f.apply(l,u.slice(1)),c=u[0].length,p=o,l.length>=a))break;x.lastIndex===u.index&&x.lastIndex++}return p===r.length?!c&&x.test("")||l.push(""):l.push(r.slice(p)),l.length>a?l.slice(0,a):l}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var n=s(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,n,i):r.call(String(n),e,i)},function(t,n){var s=i(r,t,this,n,r!==e);if(s.done)return s.value;var d=a(t),h=String(this),f=u(d,RegExp),v=d.unicode,y=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(x?"y":"g"),b=new f(x?d:"^(?:"+d.source+")",y),m=void 0===n?g:n>>>0;if(0===m)return[];if(0===h.length)return null===l(b,h)?[h]:[];var _=0,S=0,w=[];while(S<h.length){b.lastIndex=x?S:0;var O,$=l(b,x?h:h.slice(S));if(null===$||(O=p(c(b.lastIndex+(x?0:S)),h.length))===_)S=o(h,S,v);else{if(w.push(h.slice(_,S)),w.length===m)return w;for(var k=1;k<=$.length-1;k++)if(w.push($[k]),w.length===m)return w;S=_=O}}return w.push(h.slice(_)),w}]}),!x)},"44e7":function(t,e,i){var r=i("861d"),n=i("c6b6"),a=i("b622"),s=a("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==n(t))}},"4fe1":function(t,e,i){"use strict";i("93c8")},"93c8":function(t,e,i){},a640:function(t,e,i){"use strict";var r=i("d039");t.exports=function(t,e){var i=[][t];return!!i&&r((function(){i.call(null,e||function(){throw 1},1)}))}},ae40:function(t,e,i){var r=i("83ab"),n=i("d039"),a=i("5135"),s=Object.defineProperty,u={},o=function(t){throw t};t.exports=function(t,e){if(a(u,t))return u[t];e||(e={});var i=[][t],c=!!a(e,"ACCESSORS")&&e.ACCESSORS,l=a(e,0)?e[0]:o,d=a(e,1)?e[1]:void 0;return u[t]=!!i&&!n((function(){if(c&&!r)return!0;var t={length:-1};c?s(t,1,{enumerable:!0,get:o}):t[1]=1,i.call(t,l,d)}))}},bb51:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"category"},[i("BreadcrumbList",{attrs:{breadcrumb:t.breadcrumb}}),i("SearchBox"),t.breadcrumb.length>0&&!this.$route.query.keyword?i("Filters",{attrs:{category:t.breadcrumb[0].name}}):t._e(),t.total<0||t.pageLoading?i("Loading"):i("ProductList",{attrs:{productData:t.productData,total:t.total,categoryLink:t.breadcrumb[0]?t.breadcrumb[0].url:""}}),t.total>10?i("Pagination",{attrs:{total:t.total},on:{clickPage:t.clickPage}}):t._e()],1)},n=[],a=(i("b0c0"),i("8499")),s=i("50b3"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"filter w1200px"},[t.showTips?i("div",{staticClass:"tips"},[i("p",[t._v("全岛各地段海量租赁房源，系统自动于每日上午9时采集、更新房源信息，故无法做到全部房源数据实时同步展示。如有需求，请联系我们专业的房产顾问，最快24小时内安排现场看房!")])]):t._e(),t._l(t.filterData,(function(e,r,n){return i("div",{key:n,staticClass:"item clearfix"},[i("div",{staticClass:"left"},[i("span",{staticClass:"t"},[t._v(t._s(t.filterTit[r]))]),i("span",{class:{active:!t.filterResult[r]},on:{click:function(e){return t.filterAll(r)}}},[t._v("全部")])]),i("div",{staticClass:"right"},t._l(e,(function(e,n){return i("span",{key:n,class:{active:t.filterResult[r]&&t.filterResult[r].split(",").indexOf(e.id)>=0},on:{click:function(i){return t.filterClick(r,e.id)}}},[i("i"),t._v(" "+t._s(e.text)+" ")])})),0)])})),i("div",{staticClass:"sort"},[i("span",{class:{active:!t.filterResult.sort},on:{click:function(e){return t.filterSort("default")}}},[t._v("默认排序")]),i("span",{class:{active:[1,2].indexOf(1*t.filterResult.sort)>=0},on:{click:function(e){return t.filterSort("price")}}},[t._v(" 按价格 "),i("i",{class:{on:1*t.filterResult.sort===2}})]),i("span",{class:{active:[3,4].indexOf(1*t.filterResult.sort)>=0},on:{click:function(e){return t.filterSort("area")}}},[t._v(" 按面积 "),i("i",{class:{on:1*t.filterResult.sort===4}})])])],2)},o=[],c=(i("99af"),i("c975"),i("ac1f"),i("5319"),i("1276"),{props:{category:String},data:function(){return{filterResult:{},filterTit:{region:"地区",price:"价格",area:"面积",house:"户型"}}},computed:{showTips:function(){return"renting"===this.$route.params.name},filterData:function(){var t={region:[{text:"东部",id:"east"},{text:"西部",id:"west"},{text:"市区",id:"urban"},{text:"中部",id:"middle"},{text:"南部",id:"south"},{text:"北部",id:"north"},{text:"东北部",id:"east_north"},{text:"其他地区",id:"other"}],price:[{text:"100万以下",id:1},{text:"100万-200万",id:2},{text:"200万-500万",id:3},{text:"500万以上",id:4}],area:[{text:"50㎡以下",id:"1"},{text:"50㎡-70㎡",id:"2"},{text:"70㎡-100㎡",id:"3"},{text:"100㎡-150㎡",id:"4"},{text:"150㎡以上",id:"5"}],house:[{text:"一卧室",id:"1"},{text:"一厅+书房",id:"6"},{text:"一室一厅",id:"2"},{text:"一室一厅+书房",id:"3"},{text:"两室一厅",id:"4"},{text:"两室一厅+书房",id:"5"},{text:"三室一厅",id:"10"},{text:"三室一厅+书房",id:"11"},{text:"四室一厅",id:"7"},{text:"四室一厅+书房",id:"8"},{text:"顶层复式楼",id:"9"}]};return"狮城租房"===this.category&&(t.price=[{text:"500-2000",id:1},{text:"2000-3000",id:2},{text:"3000-5000",id:3},{text:"5000-8000",id:4},{text:"8000以上",id:5}],t.house=[{text:"studio",id:"1"},{text:"1卧室",id:"2"},{text:"2卧室",id:"3"},{text:"3卧室",id:"4"},{text:"4卧室",id:"5"},{text:"5卧室",id:"6"},{text:"独栋洋房",id:"7"},{text:"半独栋洋房",id:"8"}]),t}},methods:{filterAll:function(t){var e=JSON.parse(JSON.stringify(this.$route.query));e[t]="",this.$router.push({query:e})},filterSort:function(t){var e=JSON.parse(JSON.stringify(this.$route.query));"price"===t&&(e.sort=1*e.sort===1?2:1),"area"===t&&(e.sort=1*e.sort===3?4:3),"default"===t&&(e.sort=""),this.$router.push({query:e})},filterClick:function(t,e){var i=JSON.parse(JSON.stringify(this.$route.query));i[t]&&i[t].split(",").indexOf(e)>=0?i[t]=i[t].replace("".concat(e,","),""):i[t]="".concat(e,",").concat(i[t]||""),this.$router.push({query:i})}},mounted:function(){this.filterResult=this.$route.query}}),l=c,d=(i("4fe1"),i("2877")),h=Object(d["a"])(l,u,o,!1,null,"77b4042a",null),f=h.exports,p=i("828e"),g=i("3e64"),x=i("0e17"),v={name:"category",components:{BreadcrumbList:a["a"],SearchBox:s["a"],Filters:f,ProductList:p["a"],Pagination:g["a"],Loading:x["a"]},data:function(){return{productData:[],total:-1,page:1,pageLoading:!1}},computed:{breadcrumb:function(){var t={"new house":{url:"/c/new-house",name:"新楼盘",api:"new_house"},renting:{url:"/c/renting",name:"狮城租房",api:"rented_house"},"second hand":{url:"/c/second-hand",name:"二手公寓",api:"second_hand_house"}};return[t[this.$route.name]]}},methods:{clickPage:function(t){t+=1;var e=this.$route.path;this.$router.push({path:e,query:{page:t}}),this.getProductList(t)},getProductList:function(t){var e=this;this.page=t;var i=this.$route.query.region,r=this.$route.query.house,n=this.$route.query.price,a=this.$route.query.area,s=this.$route.query.sort,u=this.$route.query.keyword,o={page:this.page,size:10,price_index:n,area_index:a,house_index:r,region_index:i,sort:s,keyword:u,api_url:this.breadcrumb[0].api};this.pageLoading=!0,this.$httpApi.categoryListApi(o).then((function(t){e.productData=t.data.new_houses||t.data.second_hand_houses||t.data.rented_houses,e.total=t.data.total,e.pageLoading=!1}))}},mounted:function(){var t=this.$route.query.page||1;this.getProductList(t)}},y=v,b=Object(d["a"])(y,r,n,!1,null,null,null);e["default"]=b.exports},c975:function(t,e,i){"use strict";var r=i("23e7"),n=i("4d64").indexOf,a=i("a640"),s=i("ae40"),u=[].indexOf,o=!!u&&1/[1].indexOf(1,-0)<0,c=a("indexOf"),l=s("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:o||!c||!l},{indexOf:function(t){return o?u.apply(this,arguments)||0:n(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=category.09f5ccff.js.map